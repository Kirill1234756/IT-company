import { ref, computed } from 'vue'
import { defineStore } from 'pinia'
import type { PortfolioProject, FilterType } from '@/types/portfolio'

export const usePortfolioStore = defineStore('portfolio', () => {
  // Маппинг русских названий на английские slug'и для URL
  const projectSlugMap = {
    'Сайт для аренды автомобилей': 'car-rental-website',
    'Корпоративный сайт для производственной компании': 'corporate-manufacturing',
    'Лендинг для бизнес-услуг': 'business-services-landing',
    'Корпоративный портал': 'corporate-portal',
    'Промо-сайт для технологического стартапа': 'tech-startup-promo',
    'Интернет-магазин модной одежды': 'fashion-ecommerce',
    'Корпоративный сайт консалтинговой компании': 'consulting-corporate',
    'Лендинг для образовательной платформы': 'education-landing'
  }

  // State - объединенные данные проектов с модальными данными
  const projects = ref<PortfolioProject[]>([
    {
      id: 1,
      title: 'Сайт для аренды автомобилей',
      category: 'Лендинги',
      image: "/img/cases/case-1.jpg",
      description: 'Современный лендинг для компании по аренде автомобилей премиум класса. Интуитивный интерфейс, быстрая бронь и удобный каталог автомобилей',
      technologies: ['Vue.js', 'TypeScript', 'Responsive Design', 'GSAP'],
      year: '2024',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен созданию современного лендинга для компании по аренде автомобилей премиум класса. Основная цель заключалась в создании привлекательной и функциональной платформы, которая позволит потенциальным клиентам легко просматривать каталог автомобилей, рассчитывать потенциальный доход для владельцев авто и быстро оформлять бронирование. Лендинг фокусируется на демонстрации премиальных автомобилей и показывает потенциал заработка для владельцев, которые хотят сдавать свои автомобили в аренду."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Компании по аренде автомобилей требовалось современное онлайн-присутствие, которое эффективно представило бы их премиальный автопарк и привлекло бы как клиентов, ищущих возможность арендовать автомобили, так и владельцев автомобилей, заинтересованных в получении дохода от сдачи своих машин в аренду. Предыдущий сайт имел слабую визуальную привлекательность, плохой пользовательский опыт и не предоставлял инструментов для расчета дохода, что критично важно для привлечения владельцев автомобилей на платформу."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать современный лендинг, ориентированный на конверсию, с интуитивным интерфейсом, который эффективно демонстрирует премиальные автомобили, предоставляет быструю систему бронирования и включает инструменты для расчета потенциального дохода для владельцев автомобилей. Лендинг должен подчеркивать премиальную природу сервиса, сохраняя при этом простоту и удобство использования для всех категорий пользователей."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы провели комплексное исследование рынка аренды премиальных автомобилей и проанализировали сайты конкурентов. Мы изучили модели поведения пользователей, чтобы понять, как потенциальные клиенты ищут автомобили в аренду и какая информация для них наиболее важна. Мы проанализировали потребности двух основных целевых аудиторий: клиентов, желающих арендовать премиальные автомобили, и владельцев автомобилей, желающих получать доход от сдачи своих машин в аренду. Мы определили, что владельцам автомобилей нужна четкая визуализация потенциального дохода, что стало ключевой особенностью проекта. Мы исследовали лучшие практики на платформах аренды автомобилей и выявили ключевые элементы конверсии, такие как качественные изображения автомобилей, прозрачное ценообразование и простой процесс бронирования. Мы также проанализировали технические требования для быстрой загрузки страницы и адаптивного дизайна, чтобы обеспечить оптимальный пользовательский опыт на всех устройствах."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали современный лендинг с акцентом на премиальную эстетику и пользовательский опыт. Дизайн подчеркивает качественную автомобильную фотографию и использует изысканную цветовую схему, отражающую роскошную природу сервиса. Мы разработали интуитивный каталог автомобилей с возможностями фильтрации и подробной информацией об автомобилях. Ключевой особенностью проекта является инструмент расчета дохода, который позволяет владельцам автомобилей видеть потенциальный месячный доход от своих машин. Мы внедрили быструю систему бронирования с упрощенным процессом, который минимизирует количество шагов, необходимых для завершения бронирования. Лендинг включает разделы, демонстрирующие реальные примеры заработка владельцев автомобилей, что служит социальным доказательством и повышает доверие. Мы использовали Vue.js и TypeScript для обеспечения качества кода и поддерживаемости, в то время как анимации GSAP добавляют плавные переходы и усиливают премиальное ощущение сайта. Адаптивный дизайн обеспечивает идеальное отображение на всех устройствах, от мобильных телефонов до больших настольных экранов."
        }
      ]
    },
    {
      id: 2,
      title: 'Корпоративный сайт для производственной компании',
      category: 'Корпоративные сайты',
      image: "/img/cases/case-2.jpg",
      description: 'Комплексный корпоративный сайт с презентацией продукции, истории компании и возможностей сотрудничества',
      technologies: ['React', 'Next.js', 'TypeScript', 'Tailwind CSS'],
      year: '2024',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен разработке комплексного корпоративного сайта для производственной компании. Проект был направлен на создание профессиональной онлайн-платформы, которая эффективно представляет продукцию компании, производственные возможности, историю компании и возможности сотрудничества. Сайт служит ключевым инструментом для привлечения новых клиентов, партнеров и инвесторов, предоставляя при этом комплексную информацию о деятельности и экспертизе компании."
        },
        {
          id: 2,
          title: "Проблема",
          description: "У производственной компании отсутствовал современный профессиональный сайт, который мог бы эффективно демонстрировать их обширный каталог продукции и производственные возможности. Существующее онлайн-присутствие было устаревшим, трудным для навигации и не отражало должным образом масштаб и экспертность компании. Требовалась платформа, которая помогла бы установить доверие к компании, способствовала бы развитию делового партнерства и предоставляла легкий доступ к информации о продукции для потенциальных клиентов."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать комплексный корпоративный сайт, который представил бы продукцию и услуги компании в лучшем свете, эффективно рассказал историю компании и способствовал бы развитию деловых отношений. Сайт должен иметь профессиональный дизайн, отражающий промышленную экспертность компании, оставаясь при этом доступным и удобным для навигации для различных категорий пользователей, включая клиентов, партнеров и потенциальных инвесторов."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы провели глубокое исследование производственной индустрии и проанализировали корпоративные сайты аналогичных компаний. Мы изучили, как промышленные компании представляют свою продукцию и возможности в интернете, выявив лучшие практики для каталогов продукции и корпоративных презентаций. Мы собрали комплексную информацию о линейках продукции компании, производственных процессах и корпоративной истории. Мы проанализировали потребности различных групп пользователей: потенциальных клиентов, ищущих производственные услуги, партнеров, заинтересованных в сотрудничестве, и инвесторов, ищущих информацию о компании. Мы определили ключевые разделы, которые будут наиболее ценными для каждой аудитории, и структурировали контент соответственно. Мы также исследовали технические требования для отображения сложных каталогов продукции и промышленной фотографии, чтобы обеспечить эффективную демонстрацию возможностей компании."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали профессиональный корпоративный сайт, используя React и Next.js для обеспечения оптимальной производительности и SEO-возможностей. Дизайн отражает промышленный профессионализм, сохраняя при этом современную эстетику. Мы разработали комплексный каталог продукции с подробной информацией, спецификациями и качественными изображениями. Сайт включает разделы о истории компании, производственных возможностях, стандартах качества и возможностях партнерства. Мы внедрили чистую, интуитивную структуру навигации, которая позволяет пользователям легко находить нужную информацию. Сайт имеет адаптивный дизайн, который идеально работает на всех устройствах, обеспечивая доступ к информации для деловых партнеров и клиентов как в офисе, так и на производственном объекте. Интеграция с системами управления контентом позволяет компании легко обновлять информацию о продукции и новости компании без технической помощи."
        }
      ]
    },
    {
      id: 3,
      title: 'Лендинг для бизнес-услуг',
      category: 'Лендинги',
      image: "/img/cases/case-3.jpg",
      description: 'Эффективный лендинг для продвижения бизнес-услуг с акцентом на конверсию и привлечение клиентов',
      technologies: ['Vue.js', 'TypeScript', 'GSAP Animations'],
      year: '2023',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен созданию высококонверсионного лендинга для бизнес-услуг. Проект был сосредоточен на создании эффективного маркетингового инструмента, который привлечет потенциальных клиентов, четко представит предложения услуг и максимизирует показатели конверсии. Лендинг был разработан для быстрой коммуникации ценностных предложений и поощрения посетителей к действию, будь то запрос консультации, загрузка материалов или прямой контакт."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Компании бизнес-услуг требовалось эффективное онлайн-присутствие, которое могло бы генерировать лиды и конвертировать посетителей в клиентов. Предыдущие маркетинговые материалы были разбросаны по разным платформам и не имели целенаправленного подхода к конверсии. Требовался единый, целостный лендинг, который мог бы служить основной точкой входа для маркетинговых кампаний, четко представляя услуги и побуждая потенциальных клиентов к взаимодействию."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать лендинг, ориентированный на конверсию, который эффективно представит бизнес-услуги, построит доверие с потенциальными клиентами и побудит их к действию. Лендинг должен иметь четкую структуру, которая проводит посетителей через ценностное предложение, отвечает на распространенные вопросы и упрощает запрос услуг или контакт с компанией."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы исследовали целевую аудиторию для бизнес-услуг и проанализировали, что мотивирует лиц, принимающих бизнес-решения, взаимодействовать с поставщиками услуг. Мы изучили лучшие практики конверсии для B2B-лендингов и определили ключевые элементы, которые стимулируют действие. Мы проанализировали лендинги конкурентов, чтобы понять рыночное позиционирование и выявить возможности для дифференциации. Мы составили карту пути клиента от первоначального осознания до запроса услуги, определив точки соприкосновения, где лендинг может повлиять на принятие решений. Мы также исследовали типы информации, необходимые бизнес-клиентам перед принятием решений, что информировало структуру контента и иерархию информации."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали оптимизированный для конверсии лендинг с четкими ценностными предложениями и убедительными призывами к действию. Дизайн подчеркивает элементы построения доверия, такие как отзывы, кейсы и четкие описания услуг. Мы внедрили плавные анимации GSAP, которые повышают вовлеченность пользователей, не отвлекая от основного сообщения. Лендинг имеет логический поток, который проводит посетителей от распознавания проблемы к презентации решения и к действию. Мы интегрировали множественные точки конверсии по всей странице, включая заметные формы обратной связи, кнопки запроса консультации и четкую презентацию услуг. Страница оптимизирована для быстрой загрузки и мобильной адаптивности, чтобы обеспечить оптимальную производительность на всех устройствах и скоростях соединения. Возможности A/B тестирования были встроены для обеспечения непрерывной оптимизации элементов конверсии."
        }
      ]
    },
    {
      id: 4,
      title: 'Корпоративный портал',
      category: 'Корпоративные сайты',
      image: "/img/cases/case-4.jpg",
      description: 'Многофункциональный корпоративный портал с интегрированными решениями для бизнеса и управления',
      technologies: ['Vue.js', 'Pinia', 'TypeScript', 'Vite'],
      year: '2023',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен разработке комплексного корпоративного портала, который интегрирует различные решения для управления бизнесом и коммуникации. Портала служит центральным узлом для сотрудников, предоставляя доступ к инструментам управления проектами, внутренним коммуникациям, управлению документами и различным функциям автоматизации бизнеса. Платформа была разработана для оптимизации внутренних процессов и улучшения сотрудничества в организации."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Компания столкнулась с проблемами разрозненных внутренних систем и инструментов, которые сотрудникам приходилось использовать отдельно, что приводило к неэффективности и пробелам в коммуникации. Отсутствовала централизованная платформа для управления проектами, обмена информацией или координации работы между отделами. Отсутствие интеграции между различными системами создавало узкие места в рабочих процессах и снижало общую производительность. Сотрудникам требовалась единая платформа, которая объединила бы все необходимые инструменты и информацию в одном месте."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать единый корпоративный портал, который интегрировал бы управление проектами, внутренние коммуникации, обмен документами и инструменты автоматизации бизнеса в одну удобную для пользователей платформу. Портала должен улучшить внутренние процессы, усилить сотрудничество и предоставить сотрудникам легкий доступ ко всем необходимым инструментам и информации, которые им нужны для ежедневной работы."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы провели комплексное исследование внутренних рабочих процессов компании и выявили болевые точки в текущих процессах. Мы проанализировали, как взаимодействуют различные отделы и какие инструменты они используют ежедневно. Мы изучили лучшие практики в дизайне корпоративных порталов и пользовательском опыте для внутренних платформ. Мы составили карту информационной архитектуры, необходимой для поддержки различных бизнес-функций, и определили ключевые точки интеграции с существующими системами. Мы также исследовали потребности и предпочтения сотрудников, чтобы обеспечить принятие и эффективное использование портала. Это включало понимание различных пользовательских ролей и их специфических требований к доступу к информации и инструментам."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали комплексный корпоративный портал, используя Vue.js и Pinia для управления состоянием, обеспечивая масштабируемую архитектуру и отличный пользовательский опыт. Портала имеет интуитивную навигацию с контролем доступа на основе ролей, позволяя различным группам пользователей видеть релевантную информацию и инструменты. Мы интегрировали модули управления проектами, которые позволяют командам отслеживать прогресс, назначать задачи и сотрудничать над проектами. Платформа включает функции внутренней коммуникации, такие как новости компании, объявления и пространства для командного сотрудничества. Мы разработали возможности управления документами с контролем версий и функциями обмена. Портала полностью адаптивен, обеспечивая сотрудникам доступ с настольных компьютеров, планшетов или мобильных устройств. Оптимизация производительности обеспечивает быструю загрузку даже при больших объемах данных, а современный технологический стек обеспечивает основу для будущих дополнений функций."
        }
      ]
    },
    {
      id: 5,
      title: 'Промо-сайт для технологического стартапа',
      category: 'Промо-сайты',
      image: "/img/cases/case-5.jpg",
      description: 'Современный промо-сайт для технологического стартапа с инновационным дизайном и анимациями',
      technologies: ['Vue.js', 'GSAP', 'TypeScript', 'Responsive Design'],
      year: '2024',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен созданию современного промо-сайта для технологического стартапа. Проект был направлен на создание инновационной, визуально впечатляющей платформы, которая эффективно донесет видение стартапа, технологию и ценностное предложение до потенциальных инвесторов, партнеров и ранних последователей. Промо-сайт служит основным цифровым контактом для бренда стартапа и истории инноваций."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Технологическому стартапу требовалось убедительное онлайн-присутствие, которое выделилось бы на переполненном рынке и эффективно донесло сложные технологические концепции до различных аудиторий. У стартапа отсутствовал профессиональный сайт, который мог бы демонстрировать их инновации, привлекать инвесторов и генерировать интерес со стороны потенциальных партнеров и клиентов. Требовалась платформа, которая отражала бы передовой характер стартапа, оставаясь при этом доступной и понятной."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать инновационный промо-сайт, который эффективно донесет видение и технологию стартапа через современный дизайн, увлекательные анимации и четкое послание. Сайт должен создать ажиотаж вокруг инноваций стартапа, построить доверие и побудить к взаимодействию целевые аудитории, включая инвесторов, потенциальных партнеров и ранних последователей."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы исследовали экосистему технологических стартапов и проанализировали, как успешные стартапы представляют себя онлайн. Мы изучили промо-сайты конкурентов, чтобы выявить тренды дизайна и эффективные стратегии коммуникации для технологических стартапов. Мы проанализировали целевые аудитории: инвесторов, ищущих перспективные возможности, потенциальных партнеров, ищущих инновационные решения, и ранних последователей, заинтересованных в новых технологиях. Мы исследовали, как сложные технологические концепции можно объяснить визуально и интерактивно, чтобы сделать их доступными для различных аудиторий. Мы также изучили лучшие практики в дизайне сайтов стартапов, сосредоточившись на элементах, которые помогают построить доверие и генерировать интерес."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали инновационный промо-сайт с передовым дизайном и плавными анимациями GSAP, которые оживляют историю стартапа. Сайт включает интерактивные элементы, которые вовлекают посетителей и помогают объяснять сложные технологические концепции через визуальное повествование. Мы разработали разделы, которые эффективно передают видение стартапа, технологические инновации, экспертизу команды и потенциальное влияние. Дизайн использует современную эстетику с смелой типографикой, динамичными анимациями и цветовой схемой, отражающей технологические инновации. Мы внедрили плавные анимации прокрутки и интерактивные элементы, которые усиливают вовлеченность пользователей. Сайт полностью адаптивен, обеспечивая оптимальный опыт на всех устройствах. Оптимизация производительности обеспечивает быструю загрузку, а современная архитектура Vue.js обеспечивает гибкость для будущих обновлений по мере развития стартапа."
        }
      ]
    },
    {
      id: 6,
      title: 'Интернет-магазин модной одежды',
      category: 'Интернет-магазины',
      image: "/img/cases/case-6.jpg",
      description: 'Современный интернет-магазин модной одежды с интуитивной навигацией и удобным поиском товаров',
      technologies: ['Vue.js', 'TypeScript', 'Tailwind CSS', 'GSAP'],
      year: '2024',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен созданию современного интернет-магазина модной одежды. Проект был направлен на создание стильной и функциональной платформы электронной коммерции, которая предоставляет пользователям удобный способ просматривать каталог модных товаров, выбирать размеры и оформлять заказы. Интернет-магазин сочетает в себе визуальную привлекательность и удобство использования для максимального комфорта покупателей."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Компании требовался современный интернет-магазин, который мог бы эффективно представлять модную коллекцию одежды и обеспечивать удобный процесс покупок. Существующая платформа была устаревшей, имела сложную навигацию и не соответствовала современным стандартам пользовательского опыта. Необходимо было создать решение, которое бы привлекало целевую аудиторию и способствовало росту продаж."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать современный интернет-магазин модной одежды с интуитивной навигацией, удобной системой фильтрации и поиска, а также простым процессом оформления заказа. Сайт должен был визуально отражать стиль и качество бренда, обеспечивая при этом максимальное удобство для пользователей."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы провели исследование рынка модной электронной коммерции и изучили поведение онлайн-покупателей. Мы проанализировали популярные интернет-магазины одежды, выявив ключевые элементы успешных платформ: удобная фильтрация по размерам и параметрам, качественные изображения товаров, система размерной сетки и отзывы покупателей. Мы изучили предпочтения целевой аудитории и выявили важность мобильной версии сайта, так как значительная часть покупок совершается с мобильных устройств. Мы также проанализировали процесс оформления заказа и выявили возможности для его оптимизации."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали современный интернет-магазин с акцентом на визуальную презентацию товаров. Дизайн отражает стиль и эстетику модного бренда, используя качественные изображения товаров и интуитивную навигацию. Мы разработали удобную систему фильтрации, позволяющую пользователям быстро находить нужные товары по категориям, размерам, цветам и ценам. Каталог товаров включает подробные страницы с множеством фотографий, описанием материалов и размерами. Мы внедрили систему корзины и оформления заказа с минимальным количеством шагов. Адаптивный дизайн обеспечивает отличное отображение на всех устройствах, от смартфонов до настольных компьютеров. Использование Vue.js и TypeScript обеспечивает высокую производительность и удобство поддержки."
        }
      ]
    },
    {
      id: 7,
      title: 'Корпоративный сайт консалтинговой компании',
      category: 'Корпоративные сайты',
      image: "/img/cases/case-7.jpg",
      description: 'Профессиональный корпоративный сайт для консалтинговой компании с презентацией услуг и экспертизы',
      technologies: ['React', 'Next.js', 'TypeScript', 'Tailwind CSS'],
      year: '2023',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен разработке профессионального корпоративного сайта для консалтинговой компании. Проект был направлен на создание авторитетной онлайн-платформы, которая эффективно представляет услуги компании, демонстрирует экспертизу и достижения, а также облегчает взаимодействие с потенциальными клиентами. Сайт служит ключевым инструментом для привлечения клиентов и построения доверия в индустрии консалтинга."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Консалтинговой компании требовался современный корпоративный сайт, который мог бы эффективно представлять их услуги и экспертизу. Существующее онлайн-присутствие не отражало профессиональный уровень компании и не способствовало привлечению новых клиентов. Требовалась платформа, которая бы демонстрировала авторитет компании и облегчала процесс взаимодействия с потенциальными клиентами."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать профессиональный корпоративный сайт, который эффективно представит услуги компании, продемонстрирует экспертность команды и достижения, а также обеспечит удобный способ связи для потенциальных клиентов. Сайт должен был отражать профессионализм и авторитет компании в сфере консалтинга."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы исследовали индустрию консалтинговых услуг и проанализировали корпоративные сайты ведущих консалтинговых компаний. Мы изучили, как консалтинговые компании представляют свои услуги, экспертизу и кейсы. Мы проанализировали потребности потенциальных клиентов консалтинговых услуг и выявили важность демонстрации успешных проектов, экспертизы команды и методологий работы. Мы также исследовали типичный путь клиента от знакомства с компанией до запроса консультации."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали профессиональный корпоративный сайт, используя React и Next.js для обеспечения оптимальной производительности и SEO. Дизайн отражает профессионализм и авторитет консалтинговой компании. Мы разработали разделы, представляющие услуги компании, методологии работы, команду экспертов и портфолио успешных проектов. Сайт включает систему фильтрации кейсов и удобную форму для запроса консультации. Мы внедрили раздел с отзывами клиентов и историями успеха, что способствует построению доверия. Адаптивный дизайн обеспечивает профессиональное отображение на всех устройствах, что особенно важно для деловых клиентов, которые могут просматривать сайт в офисе или в дороге."
        }
      ]
    },
    {
      id: 8,
      title: 'Лендинг для образовательной платформы',
      category: 'Лендинги',
      image: "/img/cases/case-8.jpg",
      description: 'Эффективный лендинг для образовательной платформы с акцентом на курсы и возможности обучения',
      technologies: ['Vue.js', 'TypeScript', 'GSAP Animations', 'Responsive Design'],
      year: '2024',
      status: 'Завершен',
      modalCard: [
        {
          id: 1,
          title: "О чем проект",
          description: "Этот кейс посвящен созданию эффективного лендинга для образовательной платформы. Проект был направлен на создание привлекательной и информативной страницы, которая представляет образовательные курсы, возможности обучения и преимущества платформы. Лендинг был разработан для привлечения студентов и увеличения регистраций на платформу."
        },
        {
          id: 2,
          title: "Проблема",
          description: "Образовательной платформе требовался эффективный лендинг, который мог бы привлекать потенциальных студентов и конвертировать посетителей в зарегистрированных пользователей. Существующая страница не предоставляла четкой информации о преимуществах платформы и курсах, что препятствовало привлечению новых студентов. Требовалась страница, которая бы эффективно представляла образовательные возможности и побуждала к регистрации."
        },
        {
          id: 3,
          title: "Цель",
          description: "Целью было создать конверсионный лендинг, который эффективно представит образовательную платформу, покажет разнообразие курсов и преимущества обучения, а также обеспечит простой процесс регистрации. Лендинг должен был мотивировать посетителей к действию и увеличить количество регистраций."
        }
      ],
      modalText: [
        {
          id: 1,
          title: "Аналитика",
          description: "На этапе аналитики мы исследовали образовательные платформы и проанализировали, как они привлекают студентов. Мы изучили поведение потенциальных студентов и выявили, какая информация наиболее важна при выборе образовательной платформы: разнообразие курсов, формат обучения, квалификация преподавателей и отзывы студентов. Мы проанализировали конкурентов и выявили ключевые элементы успешных образовательных лендингов. Мы также исследовали процесс принятия решения о регистрации и выявили важность социального доказательства и четкого представления преимуществ."
        },
        {
          id: 2,
          title: "Разработка сайта",
          description: "На этапе разработки мы создали современный лендинг с акцентом на визуальную привлекательность и конверсию. Дизайн отражает современный и инновационный подход к образованию. Мы разработали разделы, представляющие основные курсы, преимущества платформы, информацию о преподавателях и отзывы студентов. Лендинг включает привлекательные анимации GSAP, которые делают взаимодействие более вовлекающим. Мы внедрили систему категорий курсов с удобной навигацией и четкими призывами к действию для регистрации. Процесс регистрации максимально упрощен и требует минимальное количество шагов. Адаптивный дизайн обеспечивает отличное отображение на всех устройствах, что особенно важно для студентов, которые могут изучать информацию с различных устройств."
        }
      ]
    }
  ])

  // Удаляем отдельный массив modalData, так как данные теперь встроены в projects

  const activeFilter = ref<FilterType>('all')
  const selectedProject = ref<PortfolioProject | null>(null)
  const isLoading = ref(false)

  // Computed
  const filteredProjects = computed(() => {
    console.log('Store: Computing filtered projects, activeFilter:', activeFilter.value)
    console.log('Store: Total projects:', projects.value.length)

    if (activeFilter.value === 'all') {
      console.log('Store: Returning all projects')
      return projects.value
    }

    // Map store filter to actual categories - simplified mapping
    const filtered = projects.value.filter(project => {
      let match = false

      switch (activeFilter.value) {
        case 'ecommerce':
          match = project.category === 'Интернет-магазины'
          break
        case 'corporate':
          match = project.category === 'Корпоративные сайты'
          break
        case 'landing':
          match = project.category === 'Лендинги'
          break
        case 'promo':
          match = project.category === 'Промо-сайты'
          break
        case 'mobile':
          match = project.category === 'Мобильные приложения'
          break
        case 'tech-support':
          match = project.category === 'Техническая поддержка'
          break
        default:
          match = false
      }

      console.log(`Store: Project "${project.title}" (${project.category}) vs filter "${activeFilter.value}": ${match}`)
      return match
    })

    console.log('Store: Filtered results:', filtered.length, 'projects')
    console.log('Store: Filtered project titles:', filtered.map(p => p.title))
    return filtered
  })

  const projectCategories = computed(() => {
    const categories = new Set(projects.value.map(p => p.category))
    return Array.from(categories)
  })

  const completedProjects = computed(() =>
    projects.value.filter(p => p.status === 'Завершен')
  )

  const projectsInProgress = computed(() =>
    projects.value.filter(p => p.status === 'В разработке')
  )

  const totalProjects = computed(() => projects.value.length)

  // Мемоизированные данные для модальных окон
  const getModalDataById = computed(() => (id: number) => {
    const project = projects.value.find(p => p.id === id)
    if (!project) return null

    return {
      id: project.id,
      img: project.modalImg || project.image || '/api/placeholder/1200x700',
      card: project.modalCard || [],
      text: project.modalText || []
    }
  })

  const getProjectWithModal = computed(() => (id: number) => {
    const project = projects.value.find(p => p.id === id)
    if (!project) return null

    return {
      project,
      modal: {
        id: project.id,
        img: project.modalImg || project.image || '/api/placeholder/1200x700',
        card: project.modalCard || [],
        text: project.modalText || []
      }
    }
  })

  // Actions
  const setActiveFilter = (filter: FilterType) => {
    console.log('Store: setActiveFilter called with:', filter)
    console.log('Store: Previous activeFilter:', activeFilter.value)
    activeFilter.value = filter
    console.log('Store: New activeFilter:', activeFilter.value)
    console.log('Store: activeFilter.value type:', typeof activeFilter.value)
    console.log('Store: activeFilter.value === "ecommerce":', activeFilter.value === 'ecommerce')

    // Force recomputation by accessing the computed
    console.log('Store: Forcing recomputation of filteredProjects...')
    const currentFiltered = filteredProjects.value
    console.log('Store: Current filtered projects count:', currentFiltered.length)
    console.log('Store: Current filtered projects:', currentFiltered.map(p => p.title))
  }

  const setSelectedProject = (project: PortfolioProject | null) => {
    selectedProject.value = project
  }

  const addProject = (project: Omit<PortfolioProject, 'id'>) => {
    const newProject: PortfolioProject = {
      ...project,
      id: Math.max(...projects.value.map(p => p.id)) + 1
    }
    projects.value.push(newProject)
  }

  const updateProject = (id: number, updates: Partial<Omit<PortfolioProject, 'id'>>) => {
    const index = projects.value.findIndex(p => p.id === id)
    if (index !== -1) {
      projects.value[index] = { ...projects.value[index], ...updates } as PortfolioProject
    }
  }

  const deleteProject = (id: number) => {
    const index = projects.value.findIndex(p => p.id === id)
    if (index !== -1) {
      projects.value.splice(index, 1)
    }
  }

  const getProjectById = (id: number) => {
    return projects.value.find(p => p.id === id)
  }

  const getProjectsByCategory = (category: string) => {
    return projects.value.filter(p =>
      p.category.toLowerCase().includes(category.toLowerCase())
    )
  }

  const getProjectsByStatus = (status: string) => {
    return projects.value.filter(p => p.status === status)
  }

  // Функции для работы с slug'ами
  const getProjectSlug = (title: string): string => {
    return projectSlugMap[title as keyof typeof projectSlugMap] || title
      .toLowerCase()
      .replace(/\s+/g, '-')
      .replace(/[^\w\-]/g, '')
      .replace(/-+/g, '-')
      .replace(/^-|-$/g, '')
  }

  const findProjectBySlug = (slug: string): PortfolioProject | null => {
    return projects.value.find(project =>
      getProjectSlug(project.title) === slug
    ) || null
  }

  // Simulate API call
  const fetchProjects = async () => {
    isLoading.value = true
    try {
      // Simulate API delay
      await new Promise(resolve => setTimeout(resolve, 1000))
      // In real app, you would fetch from API here
      console.log('Projects loaded from store')
    } finally {
      isLoading.value = false
    }
  }

  return {
    // State
    projects,
    activeFilter,
    selectedProject,
    isLoading,

    // Computed
    filteredProjects,
    projectCategories,
    completedProjects,
    projectsInProgress,
    totalProjects,
    getModalDataById,
    getProjectWithModal,

    // Actions
    setActiveFilter,
    setSelectedProject,
    addProject,
    updateProject,
    deleteProject,
    getProjectById,
    getProjectsByCategory,
    getProjectsByStatus,
    fetchProjects,

    // Slug functions
    getProjectSlug,
    findProjectBySlug
  }
})
