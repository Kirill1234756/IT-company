<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { useRoute, useRouter } from 'vue-router'
import { gsap } from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

gsap.registerPlugin(ScrollTrigger)

const route = useRoute()
const router = useRouter()

const services = ref([
  {
    id: 'web-development',
    title: '–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
    subtitle: '–°–æ–∑–¥–∞–µ–º –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å—ã –∏ —Å–∞–π—Ç—ã',
    description: '–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–∞–π—Ç—ã —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏',
    fullDescription:
      '–ú—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Å–∞–π—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è —Å–∞–º—ã–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø–æ–¥—Ö–æ–¥—ã. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –∏–º–µ–µ—Ç –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–π –æ–ø—ã—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –ª–µ–Ω–¥–∏–Ω–≥–æ–≤ –¥–æ –∫—Ä—É–ø–Ω—ã—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤.',
    technologies: [
      'PHP',
      'NodeJS',
      '1–°-–ë–∏—Ç—Ä–∏–∫—Å',
      'Laravel',
      'MySQL',
      'PostgreSQL',
      'Redis',
      'Apache Superset',
      'Jasper',
      'Docker',
      'JavaScript',
      'Vue.js',
      'Nuxt.js',
      'October CMS',
      'Wordpress',
    ],
    icon: 'üåê',
    color: 'from-blue-500 to-purple-600',
    features: [
      '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏',
      '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏',
      '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
      '–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è',
      'SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è',
      '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞',
    ],
    process: [
      {
        step: 1,
        title: '–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π',
        description: '–ò–∑—É—á–∞–µ–º –≤–∞—à–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ',
      },
      {
        step: 2,
        title: '–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
        description: '–°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –∏ –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤',
      },
      {
        step: 3,
        title: '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
        description: '–†–µ–∞–ª–∏–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π',
      },
      {
        step: 4,
        title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
        description: '–ü—Ä–æ–≤–æ–¥–∏–º –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤',
      },
      {
        step: 5,
        title: '–ó–∞–ø—É—Å–∫',
        description: '–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É',
      },
      {
        step: 6,
        title: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞',
        description: '–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞',
      },
    ],
  },
  {
    id: 'design',
    title: '–î–∏–∑–∞–π–Ω',
    subtitle: '–°–æ–∑–¥–∞–µ–º —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –±–µ–Ω—á–º–∞—Ä–∫–æ–º –¥–ª—è –æ—Ç—Ä–∞—Å–ª–∏',
    description: 'UX/UI –¥–∏–∑–∞–π–Ω, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –∞–π–¥–µ–Ω—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
    fullDescription:
      '–ù–∞—à –¥–∏–∑–∞–π–Ω-–æ—Ç–¥–µ–ª —Å–æ–∑–¥–∞–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–∏–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞—é—Ç –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏ –∏ —É–ª—É—á—à–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç. –ú—ã –ø—Ä–æ–≤–æ–¥–∏–º –≥–ª—É–±–æ–∫–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ–∑–¥–∞–µ–º –¥–∏–∑–∞–π–Ω, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –≤ –∫–ª–∏–µ–Ω—Ç–æ–≤.',
    technologies: [
      'UX/UI –¥–∏–∑–∞–π–Ω',
      '–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è',
      '–∞–π–¥–µ–Ω—Ç–∏–∫–∞',
      '–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
      '–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
      '3D',
    ],
    icon: 'üé®',
    color: 'from-pink-500 to-red-600',
    features: [
      'UX/UI –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤',
      '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è',
      '–°–æ–∑–¥–∞–Ω–∏–µ –∞–π–¥–µ–Ω—Ç–∏–∫–∏',
      '–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
      '3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è',
      '–î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã',
    ],
    process: [
      { step: 1, title: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ', description: '–ò–∑—É—á–∞–µ–º —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤' },
      { step: 2, title: '–ö–æ–Ω—Ü–µ–ø—Ü–∏—è', description: '–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–Ω—Ü–µ–ø—Ü–∏—é –∏ —Å—Ç–∏–ª—å –ø—Ä–æ–µ–∫—Ç–∞' },
      { step: 3, title: '–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ', description: '–°–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã' },
      { step: 4, title: '–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω', description: '–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –º–∞–∫–µ—Ç—ã' },
      { step: 5, title: '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ', description: '–ü—Ä–æ–≤–æ–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ' },
      { step: 6, title: '–†–µ–∞–ª–∏–∑–∞—Ü–∏—è', description: '–ü–µ—Ä–µ–¥–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º' },
    ],
  },
])

const currentService = computed(() => {
  return services.value.find((service) => service.id === route.params.id)
})

const goBack = () => {
  router.push('/services')
}

onMounted(() => {
  if (!currentService.value) {
    router.push('/services')
    return
  }

  // Animate page elements
  gsap.fromTo(
    '.page-header',
    { opacity: 0, y: -50 },
    { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }
  )

  gsap.fromTo(
    '.service-content',
    { opacity: 0, y: 50 },
    { opacity: 1, y: 0, duration: 1, delay: 0.2, ease: 'power2.out' }
  )

  gsap.fromTo(
    '.feature-card',
    { opacity: 0, y: 30, scale: 0.9 },
    {
      opacity: 1,
      y: 0,
      scale: 1,
      duration: 0.6,
      stagger: 0.1,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.features-section',
        start: 'top 80%',
        toggleActions: 'play none none reverse',
      },
    }
  )

  gsap.fromTo(
    '.process-step',
    { opacity: 0, x: -30 },
    {
      opacity: 1,
      x: 0,
      duration: 0.6,
      stagger: 0.1,
      ease: 'power2.out',
      scrollTrigger: {
        trigger: '.process-section',
        start: 'top 80%',
        toggleActions: 'play none none reverse',
      },
    }
  )
})
</script>

<template>
  <div
    v-if="currentService"
    class="min-h-screen bg-gradient-to-br from-[var(--color-bg)] to-[var(--color-border)] text-white"
  >
    <!-- Header -->
    <div class="page-header container mx-auto px-4 py-16">
      <button
        @click="goBack"
        class="mb-8 flex items-center gap-2 text-[var(--color-accent)] hover:text-white transition-colors"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          ></path>
        </svg>
        –ù–∞–∑–∞–¥ –∫ —É—Å–ª—É–≥–∞–º
      </button>

      <div class="flex items-center gap-6 mb-8">
        <div class="text-6xl">{{ currentService.icon }}</div>
        <div>
          <h1 class="text-5xl md:text-7xl font-black tracking-tight mb-4">
            <span
              class="bg-gradient-to-r from-[var(--color-accent)] to-[var(--color-purple)] bg-clip-text text-transparent"
            >
              {{ currentService.title }}
            </span>
          </h1>
          <p class="text-xl text-white/80">{{ currentService.subtitle }}</p>
        </div>
      </div>
    </div>

    <!-- Service Content -->
    <div class="service-content container mx-auto px-4 pb-16">
      <!-- Description -->
      <div
        class="bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-3xl p-8 border border-white/20 mb-12"
      >
        <h2 class="text-3xl font-bold text-white mb-6">–û —É—Å–ª—É–≥–µ</h2>
        <p class="text-lg text-white/90 leading-relaxed">{{ currentService.fullDescription }}</p>
      </div>

      <!-- Features -->
      <div class="features-section mb-12">
        <h2 class="text-3xl font-bold text-white mb-8">–ß—Ç–æ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div
            v-for="feature in currentService.features"
            :key="feature"
            class="feature-card bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/20 hover:border-[var(--color-accent)]/50 transition-all duration-300"
          >
            <div
              class="w-12 h-12 bg-[var(--color-accent)]/20 rounded-xl flex items-center justify-center mb-4"
            >
              <svg
                class="w-6 h-6 text-[var(--color-accent)]"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                ></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">{{ feature }}</h3>
          </div>
        </div>
      </div>

      <!-- Technologies -->
      <div class="mb-12">
        <h2 class="text-3xl font-bold text-white mb-8">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</h2>
        <div class="flex flex-wrap gap-3">
          <span
            v-for="tech in currentService.technologies"
            :key="tech"
            class="px-4 py-2 bg-[var(--color-accent)]/20 text-[var(--color-accent)] rounded-full font-medium hover:bg-[var(--color-accent)] hover:text-white transition-colors cursor-pointer"
          >
            {{ tech }}
          </span>
        </div>
      </div>

      <!-- Process -->
      <div class="process-section mb-12">
        <h2 class="text-3xl font-bold text-white mb-8">–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div
            v-for="step in currentService.process"
            :key="step.step"
            class="process-step bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl rounded-2xl p-6 border border-white/20"
          >
            <div
              class="w-12 h-12 bg-gradient-to-r from-[var(--color-accent)] to-[var(--color-purple)] rounded-xl flex items-center justify-center mb-4 text-white font-bold text-lg"
            >
              {{ step.step }}
            </div>
            <h3 class="text-lg font-semibold text-white mb-2">{{ step.title }}</h3>
            <p class="text-white/70">{{ step.description }}</p>
          </div>
        </div>
      </div>

      <!-- CTA -->
      <div
        class="bg-gradient-to-r from-[var(--color-accent)]/20 to-[var(--color-purple)]/20 backdrop-blur-xl rounded-3xl p-8 md:p-12 text-center border border-[var(--color-accent)]/30"
      >
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª–∞ —É—Å–ª—É–≥–∞?</h2>
        <p class="text-lg text-white/90 mb-8 max-w-2xl mx-auto">
          –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        </p>
        <button
          class="bg-[var(--color-accent)] text-[var(--color-bg)] px-8 py-4 rounded-2xl font-bold text-lg hover:bg-[var(--color-accent)]/90 transition-colors"
        >
          –û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
        </button>
      </div>
    </div>
  </div>
</template>

<style scoped>
.feature-card:hover {
  transform: translateY(-5px);
}

.process-step:hover {
  transform: translateY(-3px);
}
</style>
