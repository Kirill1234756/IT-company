<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/logo3.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/logo3.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kodify — продажа сайтов и цифровых решений для развития бизнеса. Разработка корпоративных сайтов, интернет-магазинов, лендингов. Продвижение и поддержка. Портфолио и экспертный блог.">
    <meta name="yandex-verification" content="" />
    <meta name="google-site-verification" content="HB8_ge4y42V45ASCsEusJyNFDCtD0_8M5104x6jKuno" />
    <meta property="og:title" content="Kodify - Продажа сайтов и цифровых решений" />
    <meta property="og:description" content="Kodify — продажа сайтов и цифровых решений для развития бизнеса. Разработка корпоративных сайтов, интернет-магазинов, лендингов. Продвижение и поддержка." />
    <meta property="og:image" content="https://kodifyweb.ru/og-image.jpg" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://kodifyweb.ru/" />
    <link rel="canonical" href="https://kodifyweb.ru/" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <!-- Preload критических шрифтов удален - шрифты загружаются через Google Fonts CSS -->
    <!-- Шрифты загружаются асинхронно для оптимизации FCP -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300..800&family=IBM+Plex+Sans+Condensed:wght@400;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap&subset=cyrillic" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300..800&family=IBM+Plex+Sans+Condensed:wght@400;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap&subset=cyrillic" rel="stylesheet"></noscript>
    <!-- Preload hero image удален - изображение загружается через компоненты -->

    <!-- Critical CSS for minimal layout to render above-the-fold quickly -->
    <style>
      /* Critical CSS for LCP element (h1) */
      * { box-sizing: border-box; }
      #app { 
        min-height: 100vh; 
        background: #0f0f23; 
        margin: 0;
        padding: 0;
      }
      .main-section { 
        min-height: 400px; 
        display: flex; 
        align-items: center; 
        justify-content: center;
        padding: 2rem;
        background: #0f0f23;
        color: white;
        position: relative;
        width: 100%;
      }
      .main-section h1 {
        font-size: clamp(1.5rem, 4vw, 3rem);
        font-weight: 700;
        line-height: 1.2;
        margin: 0;
        color: #6366f1;
        font-family: 'IBM Plex Sans Condensed', sans-serif;
        max-width: 1200px;
        width: 100%;
      }
      /* Reserve space for header to prevent CLS */
      header { 
        position: fixed; 
        top: 0.7rem; 
        left: 0; 
        width: 100%; 
        height: 48px;
        z-index: 10;
        margin: 0;
        padding: 0;
      }
      body { 
        margin: 0; 
        padding: 0;
        padding-top: 64px; /* Reserve space for fixed header */
        overflow-x: hidden;
        background: #0f0f23;
        color: white;
      }
      /* Font display swap to prevent CLS - используем fallback шрифты */
      @font-face {
        font-family: 'IBM Plex Sans Condensed';
        font-display: swap;
      }
      @font-face {
        font-family: 'Manrope';
        font-display: swap;
      }
      /* Резервируем место для шрифтов чтобы предотвратить CLS */
      h1, h2, h3, h4, h5, h6 {
        font-family: 'IBM Plex Sans Condensed', 'Arial Narrow', Arial, sans-serif;
        font-weight: 700;
        line-height: 1.2;
      }
      body, p {
        font-family: 'Manrope', system-ui, -apple-system, sans-serif;
        line-height: 1.6;
      }
      /* Prevent layout shift during Vue hydration */
      .stack-section {
        min-height: 400px;
        width: 100%;
        box-sizing: border-box;
        contain: layout style paint;
      }
      /* Prevent CLS from font loading */
      h1 {
        font-family: 'IBM Plex Sans Condensed', sans-serif;
        font-size-adjust: 0.5;
      }
      h2, h3, p {
        font-size-adjust: 0.5;
      }
      /* Reserve space for all dynamic content */
      img {
        display: block;
        max-width: 100%;
        height: auto;
        box-sizing: border-box;
        object-fit: cover;
      }
      /* Prevent CLS from images with dimensions */
      img[width][height] {
        height: auto;
      }
      /* Prevent CLS from dynamic content */
      * {
        box-sizing: border-box;
      }
      /* Optimize rendering performance */
      .stack-section {
        will-change: auto;
        transform: translateZ(0);
        backface-visibility: hidden;
        contain: layout style paint;
      }
      /* Prevent CLS from font fallback */
      body {
        font-size: 16px;
        line-height: 1.5;
      }
      /* Loader animations */
      @keyframes pulse {
        0%, 100% {
          opacity: 0.4;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.1);
        }
      }
      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }
      .loader-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        width: 100%;
      }
      .loader-logo {
        width: 64px;
        height: 64px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;
      }
      .loader-logo img {
        width: 48px;
        height: 48px;
        object-fit: contain;
      }
      .loader-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #00e5a0;
        margin-bottom: 2rem;
        font-family: 'IBM Plex Sans Condensed', sans-serif;
      }
      .loader-progress {
        width: 320px;
        max-width: 90%;
        margin-bottom: 0.75rem;
      }
      .loader-progress-bar {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 9999px;
        height: 8px;
        overflow: hidden;
        position: relative;
      }
      .loader-progress-fill {
        background: linear-gradient(to right, #2455ff, #1e40af);
        height: 100%;
        width: 30%;
        border-radius: 9999px;
        position: relative;
        animation: shimmer 2s ease-in-out infinite;
      }
      .loader-progress-fill::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: shimmer 2s ease-in-out infinite;
      }
      .loader-dots {
        display: flex;
        gap: 0.5rem;
        margin-top: 2rem;
      }
      .loader-dot {
        width: 8px;
        height: 8px;
        background: #2455ff;
        border-radius: 50%;
        animation: pulse 1.5s ease-in-out infinite;
      }
      .loader-dot:nth-child(2) {
        animation-delay: 0.2s;
      }
      .loader-dot:nth-child(3) {
        animation-delay: 0.4s;
      }
      .loader-text {
        color: rgba(255, 255, 255, 0.6);
        font-size: 0.875rem;
        margin-top: 1.5rem;
        font-family: 'Manrope', sans-serif;
      }
      /* Расширенный критический CSS для быстрого рендеринга - обновлено для точного соответствия Vue компоненту */
      .main-section > div > div:first-child {
        min-height: 120px;
        width: 100%;
        display: flex;
        box-sizing: border-box;
        contain: layout style paint;
      }
      .main-section > div > div:nth-child(2) {
        min-height: 200px;
        box-sizing: border-box;
        contain: layout style paint;
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }
      .main-section > div > div:nth-child(2) > div:first-child {
        min-height: 80px;
        width: 100%;
        padding: 1.5rem 2.5rem;
        box-sizing: border-box;
        contain: layout style paint;
      }
      .main-section > div > div:nth-child(2) > div:nth-child(2) {
        min-height: 120px;
        width: 100%;
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        contain: layout style paint;
      }
      .main-section > div > div:nth-child(3) {
        min-height: 50px;
        box-sizing: border-box;
        contain: layout style paint;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  
    <title>Kodify - Продажа сайтов и цифровых решений для развития бизнеса</title>
  </head>
  <body>
    <div id="app">
      <!-- Pre-rendered loader - will be updated by JavaScript and hidden by Vue after load -->
      <div id="pre-rendered-loader" class="loader-container" style="min-height: 100vh; background: #0f0f23; padding-top: 64px; box-sizing: border-box; position: fixed; inset: 0; z-index: 9999;">
        <!-- Logo -->
        <div class="loader-logo">
          <img src="/logo3.png" alt="Kodify Logo" style="width: 48px; height: 48px; object-fit: contain;">
        </div>
        
        <!-- Loading Text -->
        <h2 class="loader-title">Kodify</h2>
        
        <!-- Progress Bar -->
        <div class="loader-progress">
          <div class="loader-progress-bar">
            <div id="loader-progress-fill" class="loader-progress-fill" style="width: 0%;"></div>
          </div>
          <!-- Progress Percentage -->
          <div style="text-align: center; margin-top: 0.75rem;">
            <span id="loader-progress-text" style="font-size: 0.875rem; font-weight: 600; color: rgba(255, 255, 255, 0.6); font-family: 'Manrope', sans-serif;">0%</span>
          </div>
        </div>
        
        <!-- Loading Animation -->
        <div class="loader-dots">
          <div class="loader-dot"></div>
          <div class="loader-dot"></div>
          <div class="loader-dot"></div>
        </div>
        
        <!-- Loading Text -->
        <p id="loader-text" class="loader-text">Загрузка...</p>
      </div>
    </div>
    <!-- Runtime API base override for production hosting without .env injection -->
    <script>
      window.API_BASE = window.API_BASE || 'https://udevfchvbjgdalzyqbph.supabase.co/functions/v1'
      
      // Update pre-rendered loader progress before Vue loads
      (function() {
        const progressFill = document.getElementById('loader-progress-fill')
        const progressText = document.getElementById('loader-progress-text')
        const loaderText = document.getElementById('loader-text')
        const loader = document.getElementById('pre-rendered-loader')
        
        if (!progressFill || !progressText || !loaderText || !loader) return
        
        let progress = 0
        const startTime = Date.now()
        const maxTime = 3000 // 3 seconds max
        const maxProgress = 70 // Max 70% before Vue takes over
        
        // Simulate progress
        const interval = setInterval(() => {
          const timeElapsed = Date.now() - startTime
          const baseProgress = Math.min(timeElapsed / maxTime, maxProgress / 100)
          const randomFactor = (Math.random() * 0.1 - 0.05) // -0.05 to 0.05
          progress = Math.min(baseProgress * 100 + randomFactor * 100, maxProgress)
          
          progressFill.style.width = progress + '%'
          progressText.textContent = Math.round(progress) + '%'
        }, 100)
        
        // Cleanup when Vue takes over (Vue will handle hiding)
        window.addEventListener('vue-mounted', () => {
          clearInterval(interval)
        })
        
        // Fallback cleanup after 5 seconds
        setTimeout(() => {
          clearInterval(interval)
        }, 5000)
      })()
    </script>
    <script type="module" defer src="/src/main.ts"></script>
    
    <!-- Yandex.Metrika noscript fallback -->
    <noscript>
      <div>
        <img src="https://mc.yandex.ru/watch/104923147" style="position:absolute; left:-9999px;" alt="" />
      </div>
    </noscript>
  </body>
</html>
