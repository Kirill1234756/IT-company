import{_ as G,a as J}from"./page-calculatorpage-BvWRwaQl.js";import{u as Q}from"./vendor-vue-router-VH5bjaC2.js";import{d as Z,r as d,y as $,z as ee,A as te,L as oe,a2 as ae,a3 as re,a as n,o,b as a,l as C,k as ne,F as u,i as A,f as y,m as E,t as b,c as se,e as H,K as le,h as ie,a4 as ce,a5 as de}from"./vendor-vue-core-Da35iIbE.js";import"./vendor-pinia-Diq2_CCV.js";import"./vendor-other-M6hoS51G.js";import"./vendor-unhead-Ctj13N-t.js";const ue={class:"bg-border/90 backdrop-blur py-2 px-2 md:px-5 flex items-center rounded-3xl justify-between w-full","aria-label":"Main"},fe=["href"],pe={class:"flex px-2 md:px-3 flex-1 md:flex-none justify-start md:justify-center"},ve=["href"],be=["aria-expanded","aria-label"],he={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},me={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ye={class:"bg-bg/95 backdrop-blur rounded-2xl p-4"},xe={class:"flex flex-col space-y-3"},ke=["href"],ge=Z({name:"AppHeader",__name:"Header",setup(we){const s=d(!1),K=()=>{s.value=!s.value},f=()=>{s.value=!1},P=[{to:"/services",label:"Сервисы",type:"route",href:void 0},{to:"/cases",label:"Кейсы",type:"route",href:void 0},{to:"/calculator",label:"Калькулятор",type:"route",href:void 0}],B=[{to:"/blog",label:"Блог",type:"route",href:void 0},{to:"/contacts",label:"Контакты",type:"route",href:void 0},{to:"/client-form",label:"Стать клиентом",type:"route",href:void 0}],q=d(),D=d(),x=d(),R=d(),F=d(),N=d(),k=d(),h=d();let l=null,i=null;const j=()=>{var t;if(!l)return;const r=Array.from(((t=N.value)==null?void 0:t.querySelectorAll("[data-code]"))??[]);r.length&&(l.set(r,{transformPerspective:800,transformStyle:"preserve-3d",backfaceVisibility:"hidden",willChange:"transform, color",force3D:!0}),i=l.timeline({paused:!0}),i.to(r,{rotateY:360,color:"#7D53FF",duration:1.1,ease:"power2.out",stagger:{each:.06,from:"center"}}).to(r,{rotateY:0,color:"currentColor",duration:.6,ease:"power2.inOut",stagger:{each:.04,from:"end"}},">-0.05"))},X=()=>{i||j(),i==null||i.restart()},Y=()=>i==null?void 0:i.reverse(),O=Q(),S=r=>se(()=>r?O.path.startsWith(r):!1),L=r=>r.to?r.to:"/";$(()=>O.path,()=>{s.value&&f()});const z=r=>{var v;if(!s.value)return;const t=r.target,c=t.closest("button")||t,p=c.getAttribute("aria-expanded")!==null||c.closest("button[aria-expanded]")!==null,e=((v=h.value)==null?void 0:v.contains(t))||!1;!p&&!e&&h.value&&f()};return ee(async()=>{const r=e=>{s.value&&z(e)};document.addEventListener("click",r,!0);const t=r;await new Promise(e=>requestAnimationFrame(()=>e(null))),"requestIdleCallback"in window&&await new Promise(e=>window.requestIdleCallback(()=>e()));const{gsap:c}=await G(async()=>{const{gsap:e}=await import("./vendor-gsap-Bw0I9Inj.js").then(v=>v.i);return{gsap:e}},[]);l=c,te(()=>{var T,V,I;x.value&&(x.value.addEventListener("pointerenter",X,{passive:!0}),x.value.addEventListener("pointerleave",Y,{passive:!0})),i||j();const e=Array.from(((T=q.value)==null?void 0:T.querySelectorAll("a"))??[]),v=Array.from(((V=D.value)==null?void 0:V.querySelectorAll("a"))??[]),U=[...e,...v],W=Array.from(((I=F.value)==null?void 0:I.querySelectorAll("[data-ch]"))??[]),m=l.timeline({defaults:{ease:"power3.out"}});R.value&&m.from(R.value,{y:-30,opacity:0,rotate:-18,scale:.5,duration:.8,transformOrigin:"50% 80%"}),m.add(()=>{W.forEach((g,M)=>{const w=.5+M%3*.12,_=M*.1;switch(M%4){case 0:l.from(g,{opacity:0,y:22,rotateX:-70,transformPerspective:500,duration:w,delay:_});break;case 1:l.from(g,{opacity:0,x:-18,rotate:-12,skewY:8,duration:w,delay:_});break;case 2:l.from(g,{opacity:0,y:-20,scale:.6,rotate:10,duration:w,delay:_});break;default:l.from(g,{opacity:0,x:20,rotateY:-90,transformPerspective:500,duration:w,delay:_})}})},"-=0.15"),k.value&&(m.from(k.value,{scaleX:0,opacity:0,transformOrigin:"0% 50%",duration:.6},"-=0.15"),l.fromTo(k.value,{backgroundPositionX:"0%"},{backgroundPositionX:"200%",duration:4,repeat:-1,ease:"none"})),m.from(U,{y:14,opacity:0,duration:.5,stagger:.12},"-=0.2"),h.value&&m.from(h.value,{opacity:0,scale:.9,duration:.4},"-=0.3")});const p=e=>{e.key==="Escape"&&f()};window.addEventListener("keydown",p),oe(()=>{window.removeEventListener("keydown",p),document.removeEventListener("click",t,!0)})}),(r,t)=>{const c=ae("router-link"),p=re("route-prefetch");return o(),n(u,null,[a("nav",ue,[a("div",{ref_key:"navLeftRef",ref:q,class:"hidden md:flex gap-3"},[(o(),n(u,null,A(P,e=>(o(),n(u,{key:e.label},[e.type==="route"?(o(),C(c,{key:0,to:L(e),class:"rounded-2xl py-2 px-3 text-accent hover:bg-bg hover:text-white focus:outline-none focus:ring-2 focus:ring-accent/50 min-h-[44px] min-w-[44px] flex items-center","aria-current":S(e.to).value?"page":void 0},{default:y(()=>[E(b(e.label),1)]),_:2},1032,["to","aria-current"])):(o(),n("a",{key:1,href:e.href,class:"rounded-2xl py-2 px-3 text-accent hover:bg-border hover:text-white focus:outline-none focus:ring-2 focus:ring-accent/50 min-h-[44px] min-w-[44px] flex items-center"},b(e.label),9,fe))],64))),64))],512),a("div",pe,[H(c,{to:"/",class:"inline-flex items-center",onClick:f,"aria-label":"Главная страница"},{default:y(()=>[a("div",{ref_key:"brandLogoRef",ref:x,class:"font-extrabold text-2xl text-center relative",style:{cursor:"pointer"},role:"img","aria-label":"Kodify"},[a("span",{ref_key:"brandFirstRef",ref:R,class:"inline-block text-accent"}," K ",512),a("span",{ref_key:"brandCharsRef",ref:F,class:"inline-block"},[t[1]||(t[1]=a("span",{"data-ch":"",class:"inline-block"},"o",-1)),t[2]||(t[2]=a("span",{"data-ch":"",class:"inline-block"},"d",-1)),t[3]||(t[3]=a("span",{"data-ch":"",class:"inline-block"},"i",-1)),a("span",{ref_key:"brandCodeRef",ref:N,class:"inline-block will-change-transform"},[...t[0]||(t[0]=[a("span",{"data-ch":"","data-code":"",class:"inline-block"},"f",-1),a("span",{"data-ch":"","data-code":"",class:"inline-block"},"y",-1)])],512)],512),a("span",{ref_key:"brandUnderlineRef",ref:k,class:"absolute left-0 -bottom-1 h-[2px] w-full",style:{background:"linear-gradient(90deg, transparent, var(--color-accent), transparent)"}},null,512)],512)]),_:1})]),ne((o(),n("div",{ref_key:"navRightRef",ref:D,class:"hidden md:flex gap-3"},[(o(),n(u,null,A(B,e=>(o(),n(u,{key:e.label},[e.type==="route"?(o(),C(c,{key:0,to:L(e),class:"rounded-2xl py-2 px-3 text-accent hover:bg-bg hover:text-white focus:outline-none focus:ring-2 focus:ring-accent/50 min-h-[44px] min-w-[44px] flex items-center","aria-current":S(e.to).value?"page":void 0},{default:y(()=>[E(b(e.label),1)]),_:2},1032,["to","aria-current"])):(o(),n("a",{key:1,href:e.href,class:"rounded-2xl py-2 px-3 text-accent hover:bg-border hover:text-white focus:outline-none focus:ring-2 focus:ring-accent/50 min-h-[44px] min-w-[44px] flex items-center"},b(e.label),9,ve))],64))),64))])),[[p]]),a("button",{onClick:le(K,["stop"]),class:"md:hidden p-3 text-accent relative z-[10000] min-h-[44px] min-w-[44px] flex items-center justify-center","aria-expanded":s.value,"aria-label":s.value?"Закрыть меню":"Открыть меню",type:"button"},[s.value?(o(),n("svg",me,[...t[5]||(t[5]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(o(),n("svg",he,[...t[4]||(t[4]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))],8,be)]),(o(),C(de,{to:"body"},[H(ce,{name:"mobile-menu"},{default:y(()=>[s.value?(o(),n("div",{key:0,ref_key:"mobileMenuRef",ref:h,id:"mobile-menu",class:"md:hidden fixed top-[70px] left-0 right-0 w-full px-4 z-[9999]",role:"dialog","aria-modal":"true"},[a("div",ye,[a("nav",xe,[(o(!0),n(u,null,A([...P,...B],e=>(o(),n(u,{key:e.label},[e.type==="route"?(o(),C(c,{key:0,to:L(e),onClick:f,class:"rounded-2xl py-2 px-4 text-accent hover:bg-border hover:text-white transition-colors duration-300","active-class":"text-white"},{default:y(()=>[E(b(e.label),1)]),_:2},1032,["to"])):(o(),n("a",{key:1,href:e.href,onClick:f,class:"rounded-2xl py-2 px-4 text-accent hover:bg-border hover:text-white transition-colors duration-300"},b(e.label),9,ke))],64))),128))])])],512)):ie("",!0)]),_:1})]))],64)}}}),Pe=J(ge,[["__scopeId","data-v-405653af"]]);export{Pe as default};
