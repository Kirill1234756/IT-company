import{u as y}from"./vendor-vue-router-VH5bjaC2.js";import{d as q,c as d,w as k,a,h,o as r,t as p,F as g,i as v,b as f,p as C,a6 as A}from"./vendor-vue-core-Da35iIbE.js";import{d as S}from"./vendor-pinia-Diq2_CCV.js";import{a as F}from"./page-calculatorpage-BvWRwaQl.js";import"./vendor-other-M6hoS51G.js";import"./vendor-unhead-Ctj13N-t.js";const Q=S("content",{state:()=>({sections:{},faqAnswers:{}}),getters:{getSectionContent:t=>(e,n)=>{const s=`${e}#${n}`;return t.sections[s]||null},getFAQAnswers:t=>e=>t.faqAnswers[e]||[],getFAQAnswer:t=>(e,n)=>{const o=(t.faqAnswers[e]||[]).find(c=>c.question===n);return(o==null?void 0:o.answer)||null}},actions:{setSectionContent(t,e,n){const s=`${t}#${e}`;this.sections[s]=n},setFAQAnswers(t,e){this.faqAnswers[t]=e},addFAQAnswer(t,e,n){this.faqAnswers[t]||(this.faqAnswers[t]=[]);const s=this.faqAnswers[t];if(!s)return;const o=s.findIndex(c=>c.question===e);o>=0&&s[o]?s[o].answer=n:s.push({question:e,answer:n})},async loadContentForPage(t){return{}}}}),$={key:0,class:"seo-content"},x={key:0,class:"seo-h1"},L={key:1,class:"seo-sections"},E=["id"],O={class:"seo-h2"},I=["innerHTML"],B={key:1,class:"text-muted"},H={key:2,class:"seo-faq"},N={class:"seo-faq-question"},b=q({__name:"SEOContent",setup(t){const e=y(),n=Q(),s=d(()=>e.meta.h1||""),o=d(()=>e.meta.h2Outline||[]),c=d(()=>e.meta.faq||[]),m=d(()=>{var i;const u=((i=o.value[0])==null?void 0:i.toLowerCase().replace(/\s+/g,"-"))||"";return u?n.getSectionContent(e.path,u):null});d(()=>n.getFAQAnswers(e.path));const w=d(()=>c.value.length?{"@context":"https://schema.org","@type":"FAQPage",mainEntity:c.value.map(u=>{const i=n.getFAQAnswer(e.path,u)||"";return{"@type":"Question",name:u,acceptedAnswer:{"@type":"Answer",text:i}}})}:null);return k(()=>{w.value&&C({script:[{type:"application/ld+json",children:JSON.stringify(w.value),key:"faq-schema"}]})}),(u,i)=>s.value||o.value.length||c.value.length?(r(),a("div",$,[s.value?(r(),a("h1",x,p(s.value),1)):h("",!0),o.value.length?(r(),a("div",L,[(r(!0),a(g,null,v(o.value,l=>(r(),a("section",{key:l,id:l.toLowerCase().replace(/\s+/g,"-"),class:"seo-section"},[f("h2",O,p(l),1),A(u.$slots,`section-${l.toLowerCase().replace(/\s+/g,"-")}`,{section:l},()=>[m.value?(r(),a("div",{key:0,innerHTML:m.value.html},null,8,I)):(r(),a("p",B,'Контент для секции "'+p(l)+'" будет добавлен позже.',1))],!0)],8,E))),128))])):h("",!0),c.value.length?(r(),a("div",H,[i[1]||(i[1]=f("h2",{class:"seo-faq-title"},"Часто задаваемые вопросы",-1)),(r(!0),a(g,null,v(c.value,(l,_)=>(r(),a("div",{key:_,class:"seo-faq-item"},[f("h3",N,p(l),1),A(u.$slots,`faq-${_}`,{question:l},()=>[i[0]||(i[0]=f("p",{class:"text-muted"},"Ответ на вопрос будет добавлен позже.",-1))],!0)]))),128))])):h("",!0)])):h("",!0)}}),J=F(b,[["__scopeId","data-v-d855b9c3"]]);export{J as default};
